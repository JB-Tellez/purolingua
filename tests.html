<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Italiano App Tests</title>
    <style>
        body { font-family: system-ui, sans-serif; padding: 20px; background: #f0f2f5; }
        .test-container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        h1 { color: #333; }
        .summary { margin-bottom: 20px; font-weight: bold; }
        .summary.passing { color: green; }
        .summary.failing { color: red; }
        
        .test-group { margin-bottom: 20px; }
        .test-group h2 { font-size: 1.2rem; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        
        .test-result { padding: 8px; margin: 4px 0; border-radius: 4px; display: flex; justify-content: space-between; }
        .test-result.pass { background-color: #e6fffa; color: #006644; border: 1px solid #b7eb8f; }
        .test-result.fail { background-color: #fff1f0; color: #cf1322; border: 1px solid #ffa39e; }
        .error-msg { display: block; font-family: monospace; font-size: 0.9em; margin-top: 4px; color: #cf1322; }

        /* Hide the app UI but keep it in DOM for app.js selectors */
        #app-mock { display: none; }
    </style>
</head>
<body>

    <div class="test-container">
        <h1>ðŸ‡®ðŸ‡¹ Italiano App Tests</h1>
        <div id="test-summary" class="summary">Running tests...</div>
        <div id="test-results"></div>
    </div>

    <!-- 
      MOCKED DOM 
      app.js selects these elements immediately on load, so they must exist.
    -->
    <div id="app-mock">
        <div id="deck-selection"></div>
        <div id="flashcard-view"></div>
        <div id="deck-grid"></div>
        <button id="back-button"></button>
        
        <div id="current-card"></div>
        <div id="card-front-text"></div>
        <div id="quiz-options"></div>
        <div id="progress-fill"></div>
        
        <button id="flip-btn"></button>
        <button id="next-btn"></button>
        
        <button id="audio-btn-front"></button>
        <div id="feedback-message"></div>
        <button id="reset-progress-btn"></button>
    </div>

    <!-- App Scripts -->
    <script src="data.js"></script>
    <!-- app.js is loaded here so we can test its functions. 
         Note: It will run its init() immediately. -->
    <script src="app.js"></script>

    <!-- Test Runner -->
    <script src="tests.js"></script>
</body>
</html>
